<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مؤسسة عبدالرحمن محمد الشبانات التجارية - المنتجات</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css">

<style>
    /* تحسينات لعرض صور المنتجات */
    .products-section {
        padding: 60px 0;
        background: #f8f9fa;
    }

    .section-title {
        text-align: center;
        margin-bottom: 40px;
        color: #2c3e50;
        font-size: 2.5rem;
    }

    .title-en {
        display: none;
    }

    .products-filter {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-bottom: 30px;
        flex-wrap: wrap;
    }

    .filter-btn {
        padding: 10px 20px;
        border: 2px solid #3498db;
        background: white;
        color: #3498db;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-family: 'Tajawal', sans-serif;
    }

    .filter-btn.active,
    .filter-btn:hover {
        background: #3498db;
        color: white;
    }

    .products-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 25px;
        margin-bottom: 40px;
    }

    .product-card {
        background: white;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        cursor: pointer;
    }

    .product-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }

    .product-image {
        position: relative;
        width: 100%;
        height: 200px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #f8f9fa;
        border-radius: 8px;
        overflow: hidden;
        margin-bottom: 15px;
    }

    .product-img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        transition: transform 0.3s ease;
    }

    .product-card:hover .product-img {
        transform: scale(1.05);
    }

    .product-icon {
        font-size: 3rem;
        color: #6c757d;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
    }

    .fallback-icon {
        background: #e9ecef;
    }

    .product-code {
        background: #007bff;
        color: white;
        padding: 2px 8px;
        border-radius: 4px;
        font-size: 0.8rem;
        display: inline-block;
        margin-bottom: 8px;
    }

    .product-name {
        font-size: 1.1rem;
        margin: 8px 0;
        color: #333;
        line-height: 1.4;
        height: 60px;
        overflow: hidden;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
    }

    .product-group, .product-brand {
        font-size: 0.9rem;
        color: #666;
        margin: 4px 0;
    }

    .no-products {
        text-align: center;
        padding: 40px;
        font-size: 1.1rem;
        color: #666;
        grid-column: 1 / -1;
    }

    .products-loading {
        text-align: center;
        padding: 40px;
    }

    .loading-spinner {
        border: 4px solid #f3f3f3;
        border-top: 4px solid #3498db;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 2s linear infinite;
        margin: 0 auto 20px;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    .error-message {
        text-align: center;
        padding: 40px;
        color: #e74c3c;
        grid-column: 1 / -1;
    }

    /* مودال المنتج */
    .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
    }

    .modal-content {
        background-color: white;
        margin: 5% auto;
        padding: 0;
        border-radius: 12px;
        width: 90%;
        max-width: 800px;
        position: relative;
        animation: modalFade 0.3s;
    }

    @keyframes modalFade {
        from { opacity: 0; transform: translateY(-50px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .close-btn {
        position: absolute;
        right: 15px;
        top: 15px;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
        color: #666;
        z-index: 1001;
    }

    .close-btn:hover {
        color: #000;
    }

    .modal-body {
        display: flex;
        flex-direction: column;
        padding: 30px;
    }

    .modal-image {
        flex: 1;
        text-align: center;
        margin-bottom: 20px;
    }

    .modal-image img {
        max-width: 100%;
        max-height: 300px;
        object-fit: contain;
    }

    .modal-details {
        flex: 1;
    }

    .modal-details h3 {
        color: #2c3e50;
        margin-bottom: 15px;
        font-size: 1.5rem;
    }

    .product-specs {
        margin-top: 20px;
    }

    .spec-item {
        margin-bottom: 10px;
        padding: 8px 0;
        border-bottom: 1px solid #eee;
    }

    .spec-item strong {
        color: #2c3e50;
        margin-left: 10px;
    }

    /* التصميم المتجاوب */
    @media (min-width: 768px) {
        .modal-body {
            flex-direction: row;
            gap: 30px;
        }
        
        .modal-image {
            margin-bottom: 0;
        }
    }

    @media (max-width: 767px) {
        .products-grid {
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .section-title {
            font-size: 2rem;
        }
    }
</style>

</head>
<body>
     <!-- شريط التنقل العلوي -->
    <div class="top-bar">
        <div class="container">
            <div class="top-bar-content">
                <div class="welcome-text" data-ar="مرحباً بكم في مؤسسة الشبانات التجارية" data-en="Welcome to Al Shabana Trading Establishment">مرحباً بكم في مؤسسة الشبانات التجارية</div>
                <div class="top-bar-actions">
                    <button id="languageToggle" class="lang-btn">
                        <i class="fas fa-globe"></i>
                        <span class="lang-text">EN</span>
                    </button>
                    <div class="contact-top">
                        <a href="tel:+966555382875"><i class="fas fa-phone"></i> +966555382875</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- الهيدر الرئيسي -->
      <header class="main-header">
        <div class="container">
            <div class="header-content">
                <div class="logo-container">
                    <img src="2.png" alt="شعار مؤسسة الشبانات" class="logo-image">
                    <div class="logo-text">
                        <span class="logo-main" data-ar="مؤسسة الشبانات التجارية" data-en="Al Shabana Trading Establishment">مؤسسة الشبانات التجارية</span>
                        <span class="logo-sub">Al Shabana Trading Establishment</span>
                    </div>
                </div>
                
                <nav class="main-nav">
                    <ul class="nav-list">
                        <li><a href="index.html" class="nav-link">
                            <i class="fas fa-home"></i> 
                            <span data-ar="الرئيسية" data-en="Home">الرئيسية</span>
                        </a></li>
                        <li><a href="about.html" class="nav-link">
                            <i class="fas fa-building"></i> 
                            <span data-ar="من نحن" data-en="About">من نحن</span>
                        </a></li>
                        <li><a href="products.html" class="nav-link active">
                            <i class="fas fa-box-open"></i> 
                            <span data-ar="المنتجات" data-en="Products">المنتجات</span>
                        </a></li>
                        <li><a href="#stats" class="nav-link">
                            <i class="fas fa-chart-bar"></i> 
                            <span data-ar="الإحصائيات" data-en="Statistics">الإحصائيات</span>
                        </a></li>
                        <li><a href="#brands" class="nav-link">
                            <i class="fas fa-tags"></i> 
                            <span data-ar="العلامات" data-en="Brands">العلامات</span>
                        </a></li>
                        <li><a href="contact.html" class="nav-link">
                            <i class="fas fa-envelope"></i> 
                            <span data-ar="اتصل بنا" data-en="Contact">اتصل بنا</span>
                        </a></li>
                    </ul>
                </nav>

                <div class="header-actions">
                    <button class="search-btn" aria-label="بحث">
                        <i class="fas fa-search"></i>
                    </button>
                    <button class="menu-toggle" aria-label="قائمة التنقل">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>
            </div>
        </div>
    </header>

 <main>
    <!-- قسم المنتجات -->
    <section id="products" class="products-section">
        <div class="container">
            <h2 class="section-title">
                <span class="title-ar">منتجاتنا</span>
                <span class="title-en">Our Products</span>
            </h2>
            
            <div class="products-filter">
                <button class="filter-btn active" data-filter="all" data-ar="الكل" data-en="All">الكل</button>
                <button class="filter-btn" data-filter="Double Class">Double Class</button>
                <button class="filter-btn" data-filter="Handles">Handles</button>
                <button class="filter-btn" data-filter="Cleaning" data-ar="مواد تنظيف" data-en="Cleaning">مواد تنظيف</button>
                <button class="filter-btn" data-filter="Energy" data-ar="طاقة" data-en="Energy">طاقة</button>
            </div>
            
            <div class="products-grid" id="productsContainer">
                <!-- سيتم تعبئة المنتجات ديناميكياً من JavaScript -->
            </div>
            
            <div class="products-loading">
                <div class="loading-spinner"></div>
                <p data-ar="جاري تحميل المنتجات..." data-en="Loading products...">جاري تحميل المنتجات...</p>
            </div>
        </div>
    </section>
</main>

    <!-- الفوتر -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <img src="2.png" alt="شعار مؤسسة الشبانات">
                        <span data-ar="مؤسسة الشبانات التجارية" data-en="Al Shabana Trading Establishment">مؤسسة الشبانات التجارية</span>
                    </div>
                    <p class="footer-description" data-ar="شريكك الموثوق في توفير مستلزمات المنزل الأساسية منذ عام 2010" data-en="Your trusted partner in providing essential household supplies since 2010">شريكك الموثوق في توفير مستلزمات المنزل الأساسية منذ عام 2010</p>
                </div>
                
                <div class="footer-section">
                    <h3 data-ar="روابط سريعة" data-en="Quick Links">روابط سريعة</h3>
                    <ul class="footer-links">
                        <li><a href="index.html#about" data-ar="من نحن" data-en="About Us">من نحن</a></li>
                        <li><a href="products.html" data-ar="المنتجات" data-en="Products">المنتجات</a></li>
                        <li><a href="index.html#brands" data-ar="العلامات" data-en="Brands">العلامات</a></li>
                        <li><a href="index.html#contact" data-ar="اتصل بنا" data-en="Contact">اتصل بنا</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3 data-ar="المنتجات" data-en="Products">المنتجات</h3>
                    <ul class="footer-links">
                        <li><a href="#" data-ar="الطاقة والوقود" data-en="Energy & Fuel">الطاقة والوقود</a></li>
                        <li><a href="#" data-ar="تنقية المياه" data-en="Water Purification">تنقية المياه</a></li>
                        <li><a href="#" data-ar="مواد التنظيف" data-en="Cleaning Materials">مواد التنظيف</a></li>
                        <li><a href="#" data-ar="المستلزمات" data-en="Supplies">المستلزمات</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3 data-ar="اشترك في النشرة" data-en="Subscribe to Newsletter">اشترك في النشرة</h3>
                    <form class="newsletter-form">
                        <input type="email" placeholder="بريدك الإلكتروني" data-ar-placeholder="بريدك الإلكتروني" data-en-placeholder="Your Email" required>
                        <button type="submit">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </form>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p data-ar="&copy; 2024 مؤسسة عبدالرحمن محمد الشبانات التجارية. جميع الحقوق محفوظة." data-en="&copy; 2024 Al Rahman Mohammed Al Shabana Trading Establishment. All rights reserved.">&copy; 2024 مؤسسة عبدالرحمن محمد الشبانات التجارية. جميع الحقوق محفوظة.</p>
            </div>
        </div>
    </footer>

    <!-- مودال المنتج -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <div class="modal-body">
                <div class="modal-image">
                    <img id="modal-img" src="" alt="صورة المنتج">
                </div>
                <div class="modal-details">
                    <h3 id="modal-name">اسم المنتج</h3>
                    <p id="modal-description">وصف المنتج</p>
                    <div class="product-specs">
                        <div class="spec-item">
                            <strong data-ar="الكود:" data-en="Code:">الكود:</strong>
                            <span id="modal-code"></span>
                        </div>
                        <div class="spec-item">
                            <strong data-ar="المجموعة:" data-en="Group:">المجموعة:</strong>
                            <span id="modal-group"></span>
                        </div>
                        <div class="spec-item">
                            <strong data-ar="العلامة:" data-en="Brand:">العلامة:</strong>
                            <span id="modal-brand"></span>
                        </div>
                        <div class="spec-item">
                            <strong data-ar="التغليف:" data-en="Packing:">التغليف:</strong>
                            <span id="modal-packing"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- زر العودة للأعلى -->
    <button id="scrollToTop" class="scroll-to-top">
        <i class="fas fa-chevron-up"></i>
    </button>

    <script>
        // كود JavaScript لتحميل وعرض المنتجات من ملف JSON
        document.addEventListener('DOMContentLoaded', function() {
            const productsContainer = document.getElementById('productsContainer');
            const loadingElement = document.querySelector('.products-loading');
            const filterButtons = document.querySelectorAll('.filter-btn');
            const modal = document.getElementById('productModal');
            const closeBtn = document.querySelector('.close-btn');
            const modalImg = document.getElementById('modal-img');
            const modalName = document.getElementById('modal-name');
            const modalCode = document.getElementById('modal-code');
            const modalGroup = document.getElementById('modal-group');
            const modalBrand = document.getElementById('modal-brand');
            const modalPacking = document.getElementById('modal-packing');
            const modalDescription = document.getElementById('modal-description');

            let allProducts = [];
            let currentFilter = 'all';

            // تحميل البيانات من ملف JSON
            async function loadProducts() {
                try {
                    const response = await fetch('products.json');
                    
                    if (!response.ok) {
                        throw new Error(`خطأ في تحميل البيانات: ${response.status}`);
                    }
                    
                    const data = await response.json();
                    allProducts = data.products || [];
                    
                    if (allProducts.length === 0) {
                        showNoProducts();
                    } else {
                        displayProducts();
                    }
                    
                } catch (error) {
                    console.error('خطأ في تحميل المنتجات:', error);
                    showError('حدث خطأ في تحميل المنتجات. يرجى المحاولة مرة أخرى.');
                } finally {
                    loadingElement.style.display = 'none';
                }
            }

            // عرض المنتجات
            function displayProducts(filter = 'all') {
                productsContainer.innerHTML = '';
                
                const filteredProducts = filter === 'all' 
                    ? allProducts 
                    : allProducts.filter(product => product.Item_Group === filter);

                if (filteredProducts.length === 0) {
                    showNoProducts();
                    return;
                }

                filteredProducts.forEach(product => {
                    const productCard = createProductCard(product);
                    productsContainer.appendChild(productCard);
                });
            }

            // إنشاء بطاقة المنتج
            function createProductCard(product) {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                
                productCard.innerHTML = `
                    <div class="product-image">
                        ${product.Image ? 
                            `<img src="${product.Image}" alt="${product.Item_Name}" class="product-img" onerror="handleImageError(this)">` : 
                            ''
                        }
                        <div class="product-icon fallback-icon" style="${product.Image ? 'display: none;' : ''}">
                            <i class="fas fa-box"></i>
                        </div>
                    </div>
                    <div class="product-code">${product.Item_Code}</div>
                    <h3 class="product-name">${product.Item_Name}</h3>
                    <div class="product-group">المجموعة: ${product.Item_Group}</div>
                    <div class="product-brand">العلامة: ${product.Brand}</div>
                `;
                
                productCard.addEventListener('click', () => openModal(product));
                return productCard;
            }

            // معالجة خطأ تحميل الصورة
            function handleImageError(imgElement) {
                imgElement.style.display = 'none';
                const fallbackIcon = imgElement.parentElement.querySelector('.fallback-icon');
                if (fallbackIcon) {
                    fallbackIcon.style.display = 'flex';
                }
            }

            // عرض رسالة عدم وجود منتجات
            function showNoProducts() {
                productsContainer.innerHTML = `
                    <div class="no-products">
                        <i class="fas fa-box-open" style="font-size: 3rem; color: #ccc; margin-bottom: 15px;"></i>
                        <p data-ar="لا توجد منتجات في هذه الفئة" data-en="No products in this category">لا توجد منتجات في هذه الفئة</p>
                    </div>
                `;
            }

            // عرض رسالة خطأ
            function showError(message) {
                productsContainer.innerHTML = `
                    <div class="error-message">
                        <i class="fas fa-exclamation-triangle" style="font-size: 3rem; margin-bottom: 15px;"></i>
                        <p>${message}</p>
                        <button onclick="location.reload()" style="margin-top: 15px; padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer;">
                            إعادة تحميل الصفحة
                        </button>
                    </div>
                `;
            }

            // فتح مودال المنتج
            function openModal(product) {
                modalImg.src = product.Image || '';
                modalImg.alt = product.Item_Name;
                modalName.textContent = product.Item_Name;
                modalCode.textContent = product.Item_Code;
                modalGroup.textContent = product.Item_Group;
                modalBrand.textContent = product.Brand;
                modalPacking.textContent = product.Packing;
                modalDescription.textContent = product.Item_Name;
                
                modal.style.display = 'block';
            }

            // إغلاق المودال
            closeBtn.addEventListener('click', () => {
                modal.style.display = 'none';
            });

            // إغلاق المودال عند النقر خارج المحتوى
            window.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.style.display = 'none';
                }
            });

            // تصفية المنتجات
            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    currentFilter = button.dataset.filter;
                    displayProducts(currentFilter);
                });
            });

            // كود الترجمة
            const languageToggle = document.getElementById('languageToggle');
            const langText = document.querySelector('.lang-text');
            let currentLanguage = 'ar';

            languageToggle.addEventListener('click', function() {
                if (currentLanguage === 'ar') {
                    currentLanguage = 'en';
                    langText.textContent = 'AR';
                    document.documentElement.lang = 'en';
                    document.documentElement.dir = 'ltr';
                    updateLanguage('en');
                } else {
                    currentLanguage = 'ar';
                    langText.textContent = 'EN';
                    document.documentElement.lang = 'ar';
                    document.documentElement.dir = 'rtl';
                    updateLanguage('ar');
                }
            });

            function updateLanguage(lang) {
                const elements = document.querySelectorAll(`[data-${lang}]`);
                elements.forEach(element => {
                    const text = element.getAttribute(`data-${lang}`);
                    if (text) {
                        element.textContent = text;
                    }
                });

                const inputs = document.querySelectorAll('input[data-ar-placeholder], input[data-en-placeholder]');
                inputs.forEach(input => {
                    const placeholder = input.getAttribute(`data-${lang}-placeholder`);
                    if (placeholder) {
                        input.placeholder = placeholder;
                    }
                });

                const arTitles = document.querySelectorAll('.title-ar');
                const enTitles = document.querySelectorAll('.title-en');
                
                if (lang === 'ar') {
                    arTitles.forEach(title => title.style.display = 'inline');
                    enTitles.forEach(title => title.style.display = 'none');
                } else {
                    arTitles.forEach(title => title.style.display = 'none');
                    enTitles.forEach(title => title.style.display = 'inline');
                }
            }

            // بدء تحميل المنتجات
            loadProducts();
        });
    </script>
</body>
</html>